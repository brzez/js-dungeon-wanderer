

$side_wall_width = 150px
$side_wall_perspective_thing_height = 40px
$wall_height = ($view_height - (2 * $side_wall_perspective_thing_height))

$side_wall_color = #f00

$door_width = 80px
$door_height = 200px

.room
  background random_color(.4)
  height 100%
  position absolute
  top 0
  clearfix()
  .spacer
    height 100%
    position relative
  .door
    /*
      doors should be centered on x axis
      but aligned to bottom on y axis
    */
    position absolute
    bottom 0
    left 50%
    // transform translate(-50%) // IE is sad.
    margin-left - ($door_width / 2)
    width $door_width
    height $door_height
    background #f0f
    // doors use sprite
    background url("sprite.png")
    &.wooden
      background-position-y 0
    &.golden
      background-position-y (- $door_height)
    &.old
      background-position-y (- $door_height * 2)

  .wall
    height $wall_height
    margin $side_wall_perspective_thing_height 0
    float left
    &.left, &.right
      background $side_wall_color
      width $side_wall_width
      position relative
    &.left:before
      content ''
      display block
      width 1px
      height 1px
      position absolute
      bottom 100%
      
      border-bottom $side_wall_perspective_thing_height solid $side_wall_color
      border-right $side_wall_width solid transparent
      
    &.left:after
      content ''
      display block
      width 1px
      height 1px
      position absolute
      top 100%
      
      border-top $side_wall_perspective_thing_height solid $side_wall_color
      border-right $side_wall_width solid transparent
      
    &.right:before
      content ''
      display block
      width 1px
      height 1px
      position absolute
      bottom 100%
      
      border-bottom $side_wall_perspective_thing_height solid $side_wall_color
      border-left $side_wall_width solid transparent
      
    &.right:after
      content ''
      display block
      width 1px
      height 1px
      position absolute
      top 100%
      
      border-top $side_wall_perspective_thing_height solid $side_wall_color
      border-left $side_wall_width solid transparent

    &.front
      clearfix()
      background random_color(.4)
      width $container_width - ($side_wall_width * 2)
      .spacer
        background random_color(.4)
        width (100 / 3)%
        float left
      
      
